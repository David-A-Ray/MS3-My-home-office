{% extends "base.html" %}
{% block content %}

<div class="container">
    {% if session.user %}
    <div class="card text-dark bg-light mb-3 container-sm">
        <div class="card-body">
            <h3 class="card-title text-center">Workspaces</h3>
        </div>
    </div>
    <!-- Page Features-->
    <div class="row text-center">
        {% for setup in setups %}
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card h-100">
                <img src="{{ url_for('static', filename=setup.image) }}" class="card-img-top" alt="..." />
                <div class="card-body">
                    <h5 class="card-title">User: {{ setup.user_name }}</h5>
                    <p class="card-text">{{ setup.description }}</p>
                    <p class="card-text"><small class="text-muted">Uploaded: {{ setup.upload_date }}</small></p>
                </div>
                <div class="card-footer text-center">
                    <a class="btn btn-danger" href="{{ url_for('user_workspace', setup_id=setup._id) }}">See Details</a>
                    <a class="btn btn-primary" href="#!"><i class="far fa-thumbs-up"></i> Like</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <!-- Jumbotron Header-->
    <header class="jumbotron my-5 text-center">
        <h2 class="display-3">Welcome to my home office</h2>
        <p class="lead">Over the course of the last year a lot of us have found ourselves working from home, this site
            has been setup so we can all share images of our own ideal home office setups so load yours up now. Let's
            see the good, the bad, the ugly and probably the funny ones as well! Enjoy.</p>
        <a class="btn btn-primary btn-lg" href="{{ url_for('register') }}">Register here</a>
    </header>

    <!-- Page Features-->
    <div class="row text-center">
        {% for setup in setups %}
        <div class="col-lg-3 col-md-6 mb-4">
            <div class="card h-100">
                <img src="{{ url_for('static', filename=setup.image) }}" class="card-img-top" alt="..." />
                <div class="card-body">
                    <h5 class="card-title">User: {{ setup.user_name }}</h5>
                    <p class="card-text">{{ setup.description }}</p>
                    <p class="card-text"><small class="text-muted">Uploaded: {{ setup.upload_date }}</small></p>
                </div>
                <div class="card-footer text-center">
                    <a class="btn btn-danger" href="{{ url_for('register') }}">See details</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>

{% endblock %}